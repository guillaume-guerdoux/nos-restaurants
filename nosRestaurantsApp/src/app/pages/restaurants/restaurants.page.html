<ion-header>
  <ion-toolbar>
    <ion-title>restaurants</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card *ngIf="coordinates">
    {{ coordinates.lat }}
    {{ coordinates.lng}}
  </ion-card>

  <ion-searchbar [(ngModel)]="address" placeholder="Votre adresse" (ionBlur)="consoleChanged()"></ion-searchbar>
  <ion-item>
    <ion-label>Minimum de notre</ion-label>
    <ion-input type="number" [(ngModel)]="min_rate"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label>Minimum d'avis</ion-label>
    <ion-input type="number" [(ngModel)]="min_nb_reviews"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label>Ouvert ?</ion-label>
    <ion-toggle [(ngModel)]="is_open"></ion-toggle>
  </ion-item>

  {{ address }}
  {{ min_rate }}
  {{ min_nb_reviews }}
  {{ is_open }}


  <ion-list>
    <ion-item button *ngFor="let item of restaurants_results">
      <ion-avatar slot="start" *ngIf="item.photos">
        <img [src]="'https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=' + item.photos[0].photo_reference + '&sensor=false&key=' + api_key">
      </ion-avatar>

      <ion-label text-wrap>
        <h3>{{ item.name }}</h3>
        {{ item.vicinity }}
        <span *ngIf="item.rating"> {{ item.rating.toFixed(1) }} </span>
        {{ item.user_ratings_total }}
      </ion-label>

      <ion-icon slot="end" *ngIf="item.Type == 'movie'" name="videocam"></ion-icon>
      <ion-icon slot="end" *ngIf="item.Type == 'series'" name="tv"></ion-icon>
      <ion-icon slot="end" *ngIf="item.Type == 'game'" name="logo-game-controller-b"></ion-icon>

    </ion-item>
  </ion-list>

  <ion-button expand="full" (click)="launchRestaurantSearch()" color="danger">
    <ion-icon name="open" slot="start" ></ion-icon>
    Search
  </ion-button>
</ion-content>
